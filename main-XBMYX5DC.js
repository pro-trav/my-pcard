import{a as _e,c as xe,d as ye,e as Ce,f as H,g as Se,h as $,i as we,j as I}from"./chunk-Z52MS5DE.js";import{Ba as ae,C,Ca as le,D as S,Da as ce,E as Z,Ea as A,F as X,Fa as pe,G as ee,Ga as me,Ha as de,Ia as ue,Ja as fe,Ka as ge,L as k,La as he,Ma as be,Na as ve,P as te,Qa as M,R as h,S as oe,T as B,U as b,V as m,X as w,_ as d,aa as ne,d as Y,e as K,fa as i,ga as s,ha as u,ia as z,ja as T,k as W,ka as f,na as ie,o as G,sa as re,t as J,ta as g,ua as O,v as a,va as q,w as p,x as Q,xa as se,y as l,z as y}from"./chunk-ISOGSHHE.js";var Ae=[{path:"",pathMatch:"full",loadChildren:()=>import("./chunk-QQEO4J6H.js").then(e=>e.DashboardModule)},{path:"transactions",loadChildren:()=>import("./chunk-WDQW6SSP.js").then(e=>e.TransactionsModule)},{path:"management",loadChildren:()=>import("./chunk-FXPG6BV5.js").then(e=>e.ManagementModule)},{path:"admin",loadChildren:()=>import("./chunk-RMCJLNHF.js").then(e=>e.AdminModule)}],P=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=m({type:e});static \u0275inj=p({imports:[M.forRoot(Ae,{useHash:!0}),M]})};var j=class e{year=0;emailLinkText="protrav@uiowa.edu";emailDistributionList="protrav@uiowa.edu";emailSubject="Questions about ProTrav";emailHref=`mailto:${this.emailDistributionList}?subject=${this.emailSubject.replace(" ","%20")}`;ngOnInit(){let o=new Date;this.year=o.getFullYear()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-footer"]],standalone:!1,decls:15,vars:3,consts:[[1,"copyright","text-center","py-1","w-100"],[1,"d-flex","flex-wrap","justify-content-center"],[1,"d-inline-flex","me-2"],[1,"me-2"],["href","https://uiowa.edu","title","University of Iowa","target","_blank"],[1,"d-none","d-sm-inline-flex","mx-5"],[1,"d-inline-flex","align-items-center"],["aria-hidden","true","role","icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",2,"height","0.8rem","width","1rem","vertical-align","text-bottom"],["fill","currentColor","d","M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"],[1,"mx-1"],[3,"href"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),g(4),s(),i(5,"a",4),g(6," University of Iowa "),s()(),u(7,"div",5),i(8,"div",6),Z(),i(9,"svg",7),u(10,"path",8),s(),X(),i(11,"span",9),g(12," E-mail any questions to"),s(),i(13,"a",10),g(14),s()()()()),t&2&&(h(4),q("Copyright \xA9 ",n.year,""),h(9),ie("href",n.emailHref,te),h(),O(n.emailLinkText))},styles:[".copyright[_ngcontent-%COMP%]{background-color:#000;font-size:.8rem;color:#ffcd00}.copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffcd00;text-decoration:underline}"],changeDetection:0})};var _=class e{toasts=[];show(o,t="",n="",r=5){let v={title:t,className:n,delay:r*1e3};o instanceof oe?v.contentTemplate=o:(v.contentTemplate=null,v.content=o),this.toasts.push(v)}remove(o){this.toasts=this.toasts.filter(t=>t!==o)}primary(o,t="",n=5){this.show(o,t,"bg-primary text-white fs-6",n)}success(o,t="",n=5){this.show(o,t,"bg-success text-white fs-6",n)}info(o,t="",n=5){this.show(o,t,"bg-info text-dark fs-6",n)}warning(o,t="",n=5){this.show(o,t,"bg-warning text-dark fs-6",n)}error(o,t="",n=5){this.show(o,t,"bg-danger text-white fs-6",n)}clear(){this.toasts.splice(0,this.toasts.length)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};function je(e,o){}function Ne(e,o){if(e&1&&w(0,je,0,0,"ng-template",4),e&2){let t=f().$implicit;d("ngTemplateOutlet",t.contentTemplate)}}function De(e,o){if(e&1&&g(0),e&2){let t=f().$implicit;O(t.content)}}function Fe(e,o){if(e&1){let t=z();i(0,"ngb-toast",2),T("mouseenter",function(){C(t);let r=f();return S(r.autoHide=!1)})("mouseleave",function(){C(t);let r=f();return S(r.autoHide=!0)})("hidden",function(){let r=C(t).$implicit,v=f();return S(v.toastService.remove(r))}),w(1,Ne,1,1,"ng-template",3)(2,De,1,1,"ng-template",null,0,se),s()}if(e&2){let t=o.$implicit,n=re(3),r=f();ne(t.className),d("header",t.title||"")("delay",t.delay||5e3)("autohide",r.autoHide),h(),d("ngIf",t.contentTemplate)("ngIfElse",n)}}var N=class e{constructor(o){this.toastService=o}autoHide=!0;static \u0275fac=function(t){return new(t||e)(B(_))};static \u0275cmp=b({type:e,selectors:[["app-toasts"]],hostAttrs:[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],standalone:!1,decls:1,vars:1,consts:[["text",""],[3,"class","header","delay","autohide","mouseenter","mouseleave","hidden",4,"ngFor","ngForOf"],[3,"mouseenter","mouseleave","hidden","header","delay","autohide"],[3,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"]],template:function(t,n){t&1&&w(0,Fe,4,7,"ngb-toast",1),t&2&&d("ngForOf",n.toastService.toasts)},dependencies:[ae,le,ce,xe],encapsulation:2})};var D=class e{externalLinks=[new we("Employee Self Service","https://hris.uiowa.edu/portal18")];applicationName="ProTrav";internalRoutes=[new I("Home",""),new I("Transactions","transactions"),new I("Card Management","management"),new I("Admin","admin")];headerUser={userName:"abc",originalUserName:"changhxu"};constructor(){}ngOnInit(){}stopImpersonation(){this.headerUser={userName:"changhxu",originalUserName:""},console.log("impersonation stopped")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-root"]],standalone:!1,decls:6,vars:4,consts:[["subSiteName","My PCard","siteUrl","https://pro-trav.github.io",3,"stopImpersonation","externalLinks","applicationName","internalRoutes","user"],["role","main",1,"w-100","h-100","flex-fill","p-0","overflow-auto"],["role","contentinfo"],["aria-live","polite","aria-atomic","true"]],template:function(t,n){t&1&&(i(0,"uiowa-header",0),T("stopImpersonation",function(){return n.stopImpersonation()}),s(),i(1,"main",1),u(2,"router-outlet"),s(),i(3,"footer",2),u(4,"app-footer"),s(),u(5,"app-toasts",3)),t&2&&d("externalLinks",n.externalLinks)("applicationName",n.applicationName)("internalRoutes",n.internalRoutes)("user",n.headerUser)},dependencies:[Se,j,N,be],styles:["[_nghost-%COMP%]{height:100%;margin:0;display:flex;flex-direction:column}.nav-item[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]{color:#0009!important;padding:.5rem 1rem .2rem;white-space:nowrap}.iowa-internal-routes[_ngcontent-%COMP%]{padding-bottom:0rem!important}"]})};var Me=new Q("config"),Ie=(()=>{class e{constructor(t){this.config=t,this._count=0,this.timer=W(1e3),this._remainSeconds=new Y,this.remainSeconds$=this._remainSeconds.asObservable(),this._timeoutSeconds=t.totalMinutes*60}startTimer(){this.stopTimer(),this._count=this._timeoutSeconds,this.timerSubscription=this.timer.subscribe(t=>{this._count>0&&(this._count--,this._remainSeconds.next(this._count))})}stopTimer(){this.timerSubscription&&this.timerSubscription.unsubscribe()}resetTimer(){this.startTimer()}}return e.\u0275fac=function(t){return new(t||e)(l(Me))},e.\u0275prov=a({token:e,factory:e.\u0275fac}),e})(),Ve=(()=>{class e{constructor(t){this.timerService=t}intercept(t,n){return this.timerService.resetTimer(),n.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(l(Ie))},e.\u0275prov=a({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e{constructor(){}continueSession(){console.log("You clicked continue session.")}stopSession(){console.log("You clicked logout.")}onExpire(){console.log("Session expired.")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a({token:e,factory:e.\u0275fac}),e})();var Ee=(()=>{class e{static forRoot(t={totalMinutes:20}){return{ngModule:e,providers:[{provide:Me,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m({type:e}),e.\u0275inj=p({providers:[Ie,{provide:de,useClass:Ve,multi:!0},E],imports:[[A]]}),e})();var F=class e extends k{toastr=y(_);handleError(o){if(o instanceof pe)o.status===0?this.toastr.error("Developers have been notified and will resolve this issue soon.","System Error"):o.error instanceof Object?this.toastr.error(o.error.message||o.message||"error"):this.toastr.error(o.error||o.message||"error");else if(o instanceof TypeError)this.toastr.error(o.message,"TypeScript Type error.");else if(o instanceof Error){if(/Loading chunk [\w]+ failed/.test(o.message)){window.location.reload();return}this.toastr.error(o.message)}else this.toastr.error("Something unexpected happened...");/localhost/.test(window.location.href)&&super.handleError(o)}static \u0275fac=(()=>{let o;return function(n){return(o||(o=ee(e)))(n||e)}})();static \u0275prov=a({token:e,factory:e.\u0275fac})};function ke(e,o){let t=e.clone({headers:e.headers.set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT").set("If-Modified-Since","0")});return o(t)}var x=class{constructor(o="",t,n=""){this.hawkId=o;this.originalUser=t;this.role=n}isAuthenticated(){return!!this.hawkId}isBasicUser(){return this.role==="BasicUser"||this.role==="Admin"||this.role==="WebMaster"}isAdmin(){return this.role==="Admin"||this.role==="WebMaster"}isWebMaster(){return this.role==="WebMaster"}};var R=class e{constructor(o){this.httpClient=o}_user=new K(new x);user$=this._user.asObservable();getUser(){return this.httpClient.get("account/user").pipe(J({next:o=>{this._user.next(new x(o.hawkId,o.originalUser,o.role))},error:()=>{this._user.next(new x)}}))}static \u0275fac=function(t){return new(t||e)(l(me))};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var U=class e extends E{constructor(t,n){super();this.userService=t;this.loginService=n}continueSession(){this.userService.getUser()}stopSession(){this.loginService.logout()}onExpire(){this.loginService.login()}static \u0275fac=function(n){return new(n||e)(l(R),l(H))};static \u0275prov=a({token:e,factory:e.\u0275fac})};function Oe(e,o){let t=y(H),n=y(ve);return o(e).pipe(G(r=>{throw r.status===401&&(t.returnUri=n.url,t.login()),r}))}var V=class e{constructor(o){if(o)throw new Error("Core Module can only be imported in AppModule.")}static \u0275fac=function(t){return new(t||e)(l(e,12))};static \u0275mod=m({type:e});static \u0275inj=p({providers:[{provide:k,useClass:F},{provide:E,useClass:U},ue(fe([Oe,ke]))],imports:[A,$,M,_e,ye,Ee,$]})};var L=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=m({type:e,bootstrap:[D]});static \u0275inj=p({imports:[he,V,P,Ce]})};ge().bootstrapModule(L,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
